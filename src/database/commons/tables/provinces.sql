drop table if exists commons.provinces cascade;

create table if not exists commons.provinces (
    idf_province smallint,
    idf_country  smallint,
    idf_region   smallint,
    txt_province text,
    constraint provinces_pk primary key (idf_province),
    constraint provinces_fk1 foreign key (idf_country) references commons.countries (idf_country),
    constraint provinces_fk2 foreign key (idf_region) references commons.regions (idf_region)
);

alter table commons.provinces enable row level security;

comment on table commons.provinces is 'pvc';

insert into commons.provinces (idf_province, idf_country, idf_region, txt_province) values
(11, 56, 1, 'Iquique'),
(14, 56, 1, 'Tamarugal'),
(21, 56, 2, 'Antofagasta'),
(22, 56, 2, 'El Loa'),
(23, 56, 2, 'Tocopilla'),
(31, 56, 3, 'Copiapó'),
(32, 56, 3, 'Chañaral'),
(33, 56, 3, 'Huasco'),
(41, 56, 4, 'Elqui'),
(42, 56, 4, 'Choapa'),
(43, 56, 4, 'Limarí'),
(51, 56, 5, 'Valparaíso'),
(52, 56, 5, 'Isla de Pascua'),
(53, 56, 5, 'Los Andes'),
(54, 56, 5, 'Petorca'),
(55, 56, 5, 'Quillota'),
(56, 56, 5, 'San Antonio'),
(57, 56, 5, 'San Felipe de Aconcagua'),
(58, 56, 5, 'Marga Marga'),
(61, 56, 6, 'Cachapoal'),
(62, 56, 6, 'Cardenal Caro'),
(63, 56, 6, 'Colchagua'),
(71, 56, 7, 'Talca'),
(72, 56, 7, 'Cauquenes'),
(73, 56, 7, 'Curicó'),
(74, 56, 7, 'Linares'),
(81, 56, 8, 'Concepción'),
(82, 56, 8, 'Arauco'),
(83, 56, 8, 'Biobío'),
(91, 56, 9, 'Cautín'),
(92, 56, 9, 'Malleco'),
(101, 56, 10, 'Llanquihue'),
(102, 56, 10, 'Chiloé'),
(103, 56, 10, 'Osorno'),
(104, 56, 10, 'Palena'),
(111, 56, 11, 'Coihaique'),
(112, 56, 11, 'Aysén'),
(113, 56, 11, 'Capitán Prat'),
(114, 56, 11, 'General Carrera'),
(121, 56, 12, 'Magallanes'),
(122, 56, 12, 'Antártica Chilena'),
(123, 56, 12, 'Tierra del Fuego'),
(124, 56, 12, 'Última Esperanza'),
(131, 56, 13, 'Santiago'),
(132, 56, 13, 'Cordillera'),
(133, 56, 13, 'Chacabuco'),
(134, 56, 13, 'Maipo'),
(135, 56, 13, 'Melipilla'),
(136, 56, 13, 'Talagante'),
(141, 56, 14, 'Valdivia'),
(142, 56, 14, 'Ranco'),
(151, 56, 15, 'Arica'),
(152, 56, 15, 'Parinacota'),
(161, 56, 16, 'Diguillín'),
(162, 56, 16, 'Itata'),
(163, 56, 16, 'Punilla');